# üìò **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: TTBoost Mobile (MVP)**

**–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π: backend (Python FastAPI) –∏ mobile frontend (Flutter).**
Copilot –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å **–¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞ –≤ –¥–≤—É—Ö –ø–∞–ø–∫–∞—Ö**:

```
/backend
/mobile
```

---

# ===============================

# üü• **1. –û–ë–©–ï–ï –û–ü–ò–°–ê–ù–ò–ï**

# ===============================

TTBoost Mobile ‚Äî —ç—Ç–æ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:

1. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ WebSocket-—Å–µ—Ä–≤–µ—Ä—É TTBoost.
2. –ü–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è:

   * —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞,
   * –ø–æ–¥–∞—Ä–∫–∏.
3. –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç:

   * TTS –ø–æ URL,
   * –∑–≤—É–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤.
4. –†–∞–±–æ—Ç–∞–µ—Ç **–≤ —Ñ–æ–Ω–µ**, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (TikTok –æ—Ç–∫—Ä—ã—Ç –ø–æ–≤–µ—Ä—Ö).
5. –ò–º–µ–µ—Ç:

   * —ç–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞,
   * –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏—Ü–µ–Ω–∑–∏–∏,
   * —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é,
   * –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ TTS / –ø–æ–¥–∞—Ä–∫–æ–≤,
   * –ø—Ä–æ—Å—Ç—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.

---

# ===============================

# üü• **2. –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê**

# ===============================

Copilot –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞:

## üìÅ `/backend`

–°—Ç–µ–∫:

* **Python 3.11**
* **FastAPI**
* **Uvicorn**
* **WebSockets (fastapi.websockets)**
* **Pydantic**
* **aiofiles**
* **Any TTS engine (–∑–∞–≥–ª—É—à–∫–∞, –ø–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º)**

## üìÅ `/mobile`

–°—Ç–µ–∫:

* **Flutter 3.x**
* **Dart**
* **audioplayers** (–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤ + TTS)
* **web_socket_channel**
* **provider** (–∏–ª–∏ riverpod)
* **permission_handler**
* **flutter_background_service** (—Ñ–æ–Ω–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞)
* **flutter_local_notifications** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

# ===============================

# üü• **3. BACKEND ‚Äî –ü–û–õ–ù–û–ï –¢–ó**

# ===============================

–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `/backend` –∏ –≤–Ω—É—Ç—Ä–∏:

```
/backend
  ‚îú‚îÄ app/
  ‚îÇ   ‚îú‚îÄ main.py
  ‚îÇ   ‚îú‚îÄ routes/
  ‚îÇ   ‚îÇ    ‚îú‚îÄ auth.py
  ‚îÇ   ‚îÇ    ‚îú‚îÄ ws.py
  ‚îÇ   ‚îÇ    ‚îî‚îÄ tts.py
  ‚îÇ   ‚îú‚îÄ services/
  ‚îÇ   ‚îÇ    ‚îú‚îÄ tts_service.py
  ‚îÇ   ‚îÇ    ‚îú‚îÄ license_service.py
  ‚îÇ   ‚îÇ    ‚îî‚îÄ event_dispatcher.py
  ‚îÇ   ‚îî‚îÄ models/
  ‚îÇ        ‚îú‚îÄ chat_event.py
  ‚îÇ        ‚îî‚îÄ gift_event.py
  ‚îú‚îÄ requirements.txt
  ‚îú‚îÄ run.sh
  ‚îî‚îÄ README.md
```

---

## üîß 3.1. –§—É–Ω–∫—Ü–∏–∏ backend

### ‚ñ∂ `/auth/login` (POST)

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:

```json
{
  "license_key": "string"
}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

```json
{
  "status": "ok",
  "user_id": "uuid",
  "ws_token": "uuid"
}
```

### ‚ñ∂ `/tts/generate` (POST)

–ó–∞–≥–ª—É—à–∫–∞, –ø–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º TTS.

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:

```json
{
  "text": "string"
}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

```json
{
  "url": "https://server.com/tts/file123.mp3"
}
```

### ‚ñ∂ **WebSocket** `/ws/{ws_token}`

–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É JSON-—Å–æ–±—ã—Ç–∏—è:

#### –¢–∏–ø: `chat`

```json
{
  "type": "chat",
  "user": "Aruka",
  "message": "–ü—Ä–∏–≤–µ—Ç!",
  "tts_url": "https://server.com/tts/abc123.mp3"
}
```

#### –¢–∏–ø: `gift`

```json
{
  "type": "gift",
  "gift_name": "Rose",
  "count": 5,
  "sound_url": "https://server.com/sounds/rose.mp3"
}
```

---

# ===============================

# üü• **4. MOBILE ‚Äî –ü–û–õ–ù–û–ï –¢–ó**

# ===============================

–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç Flutter –≤ –ø–∞–ø–∫–µ `/mobile`.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
/mobile/lib
  ‚îú‚îÄ main.dart
  ‚îú‚îÄ screens/
  ‚îÇ    ‚îú‚îÄ login_screen.dart
  ‚îÇ    ‚îú‚îÄ home_screen.dart
  ‚îÇ    ‚îú‚îÄ settings_screen.dart
  ‚îú‚îÄ services/
  ‚îÇ    ‚îú‚îÄ api_service.dart
  ‚îÇ    ‚îú‚îÄ ws_service.dart
  ‚îÇ    ‚îú‚îÄ audio_service.dart
  ‚îú‚îÄ providers/
  ‚îÇ    ‚îú‚îÄ auth_provider.dart
  ‚îÇ    ‚îú‚îÄ audio_provider.dart
  ‚îú‚îÄ models/
  ‚îÇ    ‚îú‚îÄ chat_event.dart
  ‚îÇ    ‚îî‚îÄ gift_event.dart
  ‚îú‚îÄ utils/
  ‚îÇ    ‚îî‚îÄ constants.dart
  ‚îî‚îÄ widgets/
```

---

# ===============================

# üü¶ **5. MOBILE ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –§–ò–ß–ò**

# ===============================

## üîπ 5.1. –õ–æ–≥–∏–Ω

–ü–æ–ª—è:

* –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∫–ª—é—á–∞
* –∫–Ω–æ–ø–∫–∞ ¬´–í–æ–π—Ç–∏¬ª

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞:

* —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å `ws_token`
* –æ—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω Home

---

## üîπ 5.2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket

URL —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ç–∞–∫:

```
wss://SERVER_URL/ws/{ws_token}
```

–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ JSON-—Å–æ–±—ã—Ç–∏—è –ø–∞—Ä—Å–∏—Ç—å –∏ –æ—Ç–¥–∞–≤–∞—Ç—å –≤ audio_service.

---

## üîπ 5.3. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤ (—Ñ—Ä–æ–Ω—Ç)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `audioplayers`.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

* —Å–∫–∞—á–∏–≤–∞–µ—Ç/—Å—Ç—Ä–∏–º–∏—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ URL
* –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å—Ä–∞–∑—É
* —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–≤—É–∫–æ–≤

---

## üîπ 5.4. –§–æ–Ω–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ (critical)

–£ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

### Android:

* `WAKE_LOCK`
* `FOREGROUND_SERVICE`
* –¥–æ—Å—Ç—É–ø –∫ –º–µ–¥–∏–∞–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é –≤ —Ñ–æ–Ω–µ

–ß—Ç–æ–± TTS –∏ –∑–≤—É–∫–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Å—Ç—Ä–∏–º–µ—Ä –æ—Ç–∫—Ä—ã–ª TikTok.

### iOS:

Include capabilities:

* **Background Modes ‚Üí Audio**
* **Background Modes ‚Üí Background Fetch** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üîπ 5.5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é

–í Settings —ç–∫—Ä–∞–Ω:

* –≥—Ä–æ–º–∫–æ—Å—Ç—å TTS (—Å–ª–∞–π–¥–µ—Ä)
* –≥—Ä–æ–º–∫–æ—Å—Ç—å –ø–æ–¥–∞—Ä–∫–æ–≤ (—Å–ª–∞–π–¥–µ—Ä)
* TTS on/off
* Gifts on/off

---

# ===============================

# üü™ **6. –î–ò–ó–ê–ô–ù –ò –°–¢–ò–õ–¨ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø**

# ===============================

## üé® **–¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ TTBoost**

* –§–æ–Ω: #0D0D12 (—Ç—ë–º–Ω—ã–π)
* –ê–∫—Ü–µ–Ω—Ç 1: #8A2BE2 (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
* –ê–∫—Ü–µ–Ω—Ç 2: #00E5FF (–±–∏—Ä—é–∑–∞)
* –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç: #FFFFFF
* –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç: #BFBFBF

## üñãÔ∏è –®—Ä–∏—Ñ—Ç—ã:

* –û—Å–Ω–æ–≤–Ω–æ–π: **Inter**
* –†–∞–∑–º–µ—Ä—ã:

  * H1: 28px bold
  * H2: 22px semi-bold
  * Body: 16px
  * Caption: 13px

## üì± –≠–∫—Ä–∞–Ω Login:

* –õ–æ–≥–æ—Ç–∏–ø TTBoost —Å–≤–µ—Ä—Ö—É
* –ü–æ–ª–µ –≤–≤–æ–¥–∞ –∫–ª—é—á–∞
* –ö–Ω–æ–ø–∫–∞ ¬´–í–æ–π—Ç–∏¬ª (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è)
* –§–æ–Ω —Ç—ë–º–Ω—ã–π, –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ-–±–∏—Ä—é–∑–∞

## üì± –≠–∫—Ä–∞–Ω Home:

3 –±–æ–ª—å—à–∏—Ö –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è:

* TTS ON/OFF
* Gifts ON/OFF
* Background mode status (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–µ—Ä–≤–∏—Å –≤ —Ñ–æ–Ω–µ)

–ü–æ–¥ –Ω–∏–º–∏:

* –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ¬´–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ —Å–µ—Ä–≤–µ—Ä—É¬ª
* –º–∏–Ω–∏-–ª–æ–≥ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π (5 —Å—Ç—Ä–æ–∫)

## üì± –≠–∫—Ä–∞–Ω Settings:

–°–ª–∞–π–¥–µ—Ä—ã:

* –≥—Ä–æ–º–∫–æ—Å—Ç—å TTS
* –≥—Ä–æ–º–∫–æ—Å—Ç—å –ø–æ–¥–∞—Ä–∫–æ–≤
* —á–µ–∫–±–æ–∫—Å—ã:

  * —Ñ–∏–ª—å—Ç—Ä –º–∞—Ç–∞
  * —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  * –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ TTS –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å—Ç—Ä–∏–º–∞

---

# ===============================

# üüß 7. –ü–û–î–†–û–ë–ù–û–ï –¢–ó –î–õ–Ø MOBILE BACKGROUND MODE

# ===============================

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –¥–æ–ª–∂–Ω–æ:

### Android:

* –∑–∞–ø—É—Å–∫–∞—Ç—å foreground service
* –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
  ¬´TTBoost —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ¬ª
* –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–∂–µ –ø–æ—Å–ª–µ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è
* –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–≤—É–∫ –≤ —Ñ–æ–Ω–µ

### iOS:

* –≤–∫–ª—é—á–∏—Ç—å:

  * Background ‚Üí Audio
* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

  * `AVAudioSession` –≤ —Ä–µ–∂–∏–º–µ playback
* –ø—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏:

  * WebSocket –æ—Å—Ç–∞—ë—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º
  * –∞—É–¥–∏–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏–≥—Ä–∞—Ç—å

---

# ===============================

# üü¶ **8. –ß–¢–û –î–û–õ–ñ–ï–ù –°–î–ï–õ–ê–¢–¨ Copilot**

# ===============================

–°–ø–∏—Å–æ–∫:

### ‚úî –°–æ–∑–¥–∞—Ç—å `/backend` –ø—Ä–æ–µ–∫—Ç FastAPI

### ‚úî –°–æ–∑–¥–∞—Ç—å `/mobile` –ø—Ä–æ–µ–∫—Ç Flutter

### ‚úî –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

* –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
* WebSocket –∫–ª–∏–µ–Ω—Ç
* –ø–ª–µ–µ—Ä TTS –∏ –∑–≤—É–∫–æ–≤
* –¥–∏–∑–∞–π–Ω —ç–∫—Ä–∞–Ω–æ–≤
* —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
* —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
* —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é

### ‚úî –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ —Ñ–æ–Ω–µ (Android + iOS)

### ‚úî –°–¥–µ–ª–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ

### ‚úî –û—Ñ–æ—Ä–º–∏—Ç—å README –¥–ª—è –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

---

# ===============================

# ‚ùì –ì–û–¢–û–í–û.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é –µ—â—ë:

* UI-–º–∞–∫–µ—Ç—ã,
* API-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Swagger,
* –≥–æ—Ç–æ–≤—ã–µ JSON-—Å–æ–±—ã—Ç–∏—è,
* —Å—Ö–µ–º—É –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è.
